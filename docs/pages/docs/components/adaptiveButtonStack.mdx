import Links from "@/shared/links";

# Adaptive Button Stack

## Adaptiveness

- Stretches it's children (probably buttons) on the extra-small breakpoint (customizable using the `stretchBreakpoint` prop)

```tsx
import Button from "@mui/material/Button";
import AdaptiveButtonStack from "adaptive-material-ui/components/buttonStack/adaptiveButtonStack";

export default function Basic() {
  return (
    <AdaptiveButtonStack>
      <Button variant="contained">Submit</Button>
    </AdaptiveButtonStack>
  );
}
```

### Stretching

When children are stretched by the `stretchBreakpoint` prop, they behave differently based on the number of children:

- One or two: children are stacked horizontally and stretched to 50% of the component width
- More: children are stacked vertically and stretched to 100% of the component width

```tsx
import ExampleSelector from "@/shared/ExampleSelector";
import Button from "@mui/material/Button";
import Stack from "@mui/material/Stack";
import AdaptiveButtonStack from "adaptive-material-ui/components/buttonStack/adaptiveButtonStack";
import { useState } from "react";

export default function Basic() {
  const [numberOfButtons, setNumberOfButtons] = useState("1");

  return (
    <Stack spacing={3}>
      <ExampleSelector
        onChange={setNumberOfButtons}
        options={[
          { label: "One Action", value: "1" },
          { label: "Two Actions", value: "2" },
          { label: "Three Actions", value: "3" },
        ]}
        value={numberOfButtons}
      />
      <AdaptiveButtonStack stretchBreakpoint={Number.MAX_SAFE_INTEGER}>
        {["Submit", "Back", "Delete"]
          .slice(0, parseInt(numberOfButtons))
          .reverse()
          .map((b) => (
            <Button key={b} variant="contained">
              {b}
            </Button>
          ))}
      </AdaptiveButtonStack>
    </Stack>
  );
}
```

## Split Alignment

`AdaptiveButtonStackSpacer` can be used to align children at both ends of the stack when stacked horizontally

```tsx
import Button from "@mui/material/Button";
import AdaptiveButtonStack from "adaptive-material-ui/components/buttonStack/adaptiveButtonStack";
import AdaptiveButtonStackSpacer from "adaptive-material-ui/components/buttonStack/adaptiveButtonStackSpacer";

export default function Basic() {
  return (
    <AdaptiveButtonStack>
      <Button color="error" variant="contained">
        Delete
      </Button>
      <AdaptiveButtonStackSpacer />
      <Button variant="contained">Submit</Button>
    </AdaptiveButtonStack>
  );
}
```

## API

[MUI Stack API](https://mui.com/material-ui/api/stack/) with the following changes:

- `useFlexGap` is always true
- `direction` is managed internally for the adaptiveness behavior
- `justifyContent` defaults to `flex-end`
- `spacing` defaults to `2`

### stretchBreakpoint

Breakpoint or screen width in px and below at which the children will be stretched.
This behavior can be disabled by setting it to false

- Type: `"xs" | "sm" | "md" | "lg" | number | false`
- Default: `xs`

## Browser Compatibility

- CSS [:has()](https://developer.mozilla.org/en-US/docs/Web/CSS/:has#browser_compatibility)
- CSS [:nth-child(of \<selector\>)](https://developer.mozilla.org/en-US/docs/Web/CSS/:nth-child#browser_compatibility)
- CSS [flex gap](https://developer.mozilla.org/en-US/docs/Web/CSS/gap#browser_compatibility)

## Links

<Links
  codeUrl="components/buttonStack/adaptiveButtonStack.tsx"
  docsUrl="components/adaptiveButtonStack.mdx"
  mui={{ title: "Stack", url: "react-stack" }}
/>
