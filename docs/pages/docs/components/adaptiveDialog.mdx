import AdaptiveModeApi from "@/shared/adaptiveModeApi.mdx";
import Links from "@/shared/links";

# Adaptive Dialog

## Adaptiveness

- Stretches it's dialog actions on the extra-small breakpoint (customizable using the `stretchActionsBreakpoint` prop)
- `variant="tall"`
  - Defaults to full screen mode on the extra-small breakpoint (customizable using the `fullScreenBreakpoint` prop)
- `variant="short"`
  - iOS: native styling

```tsx
import AdaptiveModeDemo from "@/shared/adaptiveModeDemo";
import Stack from "@mui/material/Stack";
import { AdaptiveButton } from "adaptive-material-ui/components/button/adaptiveButton";
import {
  AdaptiveDialog,
  AdaptiveDialogActions,
} from "adaptive-material-ui/components/dialog/adaptiveDialog";
import { useState } from "react";

export default function () {
  const [isShortOpen, setIsShortOpen] = useState(false);
  const [isTallOpen, setIsTallOpen] = useState(false);
  const [adaptiveMode, setAdaptiveMode] = useState("");

  return (
    <AdaptiveModeDemo adaptiveMode={adaptiveMode} onChange={setAdaptiveMode}>
      <Stack direction="row" spacing={2}>
        <AdaptiveButton onClick={() => setIsShortOpen(true)}>
          Open Short
        </AdaptiveButton>
        <AdaptiveButton onClick={() => setIsTallOpen(true)}>
          Open Tall
        </AdaptiveButton>
      </Stack>

      <AdaptiveDialog
        adaptiveMode={adaptiveMode}
        open={isShortOpen}
        onClose={() => setIsShortOpen(false)}
        variant="short"
      >
        [[exampleShortDialogContent]]
        <AdaptiveDialogActions>
          <AdaptiveButton onClick={() => setIsShortOpen(false)}>
            Disagree
          </AdaptiveButton>
          <AdaptiveButton onClick={() => setIsShortOpen(false)}>
            Agree
          </AdaptiveButton>
        </AdaptiveDialogActions>
      </AdaptiveDialog>

      <AdaptiveDialog
        adaptiveMode={adaptiveMode}
        open={isTallOpen}
        onClose={() => setIsTallOpen(false)}
        variant="tall"
      >
        [[exampleTallDialogContent]]
        <AdaptiveDialogActions>
          <AdaptiveButton onClick={() => setIsTallOpen(false)}>
            Cancel
          </AdaptiveButton>
          <AdaptiveButton onClick={() => setIsTallOpen(false)}>
            Subscribe
          </AdaptiveButton>
        </AdaptiveDialogActions>
      </AdaptiveDialog>
    </AdaptiveModeDemo>
  );
}
```

## Actions

Actions have the same [stretching](adaptiveButtonStack.html#stretching) and
[split alignment](adaptiveButtonStack.html#split-alignment) behavior as the Adaptive Button Stack
using the `stretchActionsBreakpoint` prop & `AdaptiveButtonStackSpacer` component

```tsx
import DemoSelector from "@/shared/demoSelector";
import Stack from "@mui/material/Stack";
import { AdaptiveButton } from "adaptive-material-ui/components/button/adaptiveButton";
import {
  AdaptiveDialog,
  AdaptiveDialogActions,
} from "adaptive-material-ui/components/dialog/adaptiveDialog";
import { useState } from "react";

export default function () {
  const [open, setOpen] = useState(false);
  const [numberOfButtons, setNumberOfButtons] = useState("1");

  return (
    <Stack alignItems="flex-start" spacing={3}>
      <DemoSelector
        onChange={setNumberOfButtons}
        options={[
          { label: "One Action", value: "1" },
          { label: "Two Actions", value: "2" },
          { label: "Three Actions", value: "3" },
        ]}
        value={numberOfButtons}
      />
      <AdaptiveButton onClick={() => setOpen(true)}>
        Open {numberOfButtons} Actions
      </AdaptiveButton>

      <AdaptiveDialog
        open={open}
        onClose={() => setOpen(false)}
        variant="short"
        stretchActionsBreakpoint={Number.MAX_SAFE_INTEGER}
      >
        [[exampleShortDialogContent]]
        <AdaptiveDialogActions>
          {["Submit", "Cancel", "Delete"]
            .slice(0, parseInt(numberOfButtons))
            .reverse()
            .map((b) => (
              <AdaptiveButton key={b} onClick={() => setOpen(false)}>
                {b}
              </AdaptiveButton>
            ))}
        </AdaptiveDialogActions>
      </AdaptiveDialog>
    </Stack>
  );
}
```

```tsx
import { AdaptiveButton } from "adaptive-material-ui/components/button/adaptiveButton";
import { AdaptiveButtonStackSpacer } from "adaptive-material-ui/components/buttonStack/adaptiveButtonStackSpacer";
import {
  AdaptiveDialog,
  AdaptiveDialogActions,
} from "adaptive-material-ui/components/dialog/adaptiveDialog";
import { useState } from "react";

export default function () {
  const [open, setOpen] = useState(false);

  return (
    <div>
      <AdaptiveButton onClick={() => setOpen(true)}>
        Open Split Actions
      </AdaptiveButton>

      <AdaptiveDialog
        open={open}
        onClose={() => setOpen(false)}
        variant="short"
      >
        [[exampleShortDialogContent]]
        <AdaptiveDialogActions>
          <AdaptiveButton onClick={() => setOpen(false)}>Delete</AdaptiveButton>
          <AdaptiveButtonStackSpacer />
          <AdaptiveButton onClick={() => setOpen(false)}>Cancel</AdaptiveButton>
          <AdaptiveButton onClick={() => setOpen(false)}>Submit</AdaptiveButton>
        </AdaptiveDialogActions>
      </AdaptiveDialog>
    </div>
  );
}
```

### buttonDefaultProps

The `buttonDefaultProps` prop on `AdaptiveDialogActions` can be used to set props on all the child buttons on all devices.
To apply them to only specific devices you can use the [useAdaptiveMode](/docs/useAdaptiveMode.html) hook.

```tsx
import { AdaptiveButton } from "adaptive-material-ui/components/button/adaptiveButton";
import { AdaptiveButtonStackSpacer } from "adaptive-material-ui/components/buttonStack/adaptiveButtonStackSpacer";
import {
  AdaptiveDialog,
  AdaptiveDialogActions,
} from "adaptive-material-ui/components/dialog/adaptiveDialog";
import { useState } from "react";

export default function () {
  const [open, setOpen] = useState(false);

  return (
    <div>
      <AdaptiveButton onClick={() => setOpen(true)}>Open</AdaptiveButton>

      <AdaptiveDialog
        adaptiveMode="ios"
        open={open}
        onClose={() => setOpen(false)}
        variant="short"
      >
        [[exampleShortDialogContent]]
        <AdaptiveDialogActions
          buttonDefaultProps={{
            adaptiveMode: "ios",
            disableElevation: true,
            round: true,
            size: "large",
            variant: "contained",
          }}
        >
          <AdaptiveButton color="error" onClick={() => setOpen(false)}>
            Delete
          </AdaptiveButton>
          <AdaptiveButtonStackSpacer />
          <AdaptiveButton color="inherit" onClick={() => setOpen(false)}>
            Cancel
          </AdaptiveButton>
          <AdaptiveButton onClick={() => setOpen(false)}>Submit</AdaptiveButton>
        </AdaptiveDialogActions>
      </AdaptiveDialog>
    </div>
  );
}
```

## API

[MUI Dialog API](https://mui.com/material-ui/api/dialog/) with the following changes:

<AdaptiveModeApi />

### fullScreenBreakpoint

Breakpoint or screen width in px and below at which the dialog starts rendering full screen.
This behavior can be disabled by setting the fullScreen or variant property or setting it to false

- Type: `"xs" | "sm" | "md" | "lg" | number | false`
- Default: `xs`

### stretchActionsBreakpoint

Breakpoint or screen width in px and below at which the actions will be stretched.
This behavior can be disabled by setting it to false

- Type: `"xs" | "sm" | "md" | "lg" | number | false`
- Default: `xs`

### variant

Short dialogs ignore the fullScreenBreakpoint logic and may be styled differently depending on the device

- Type: `"short" | "tall"`
- Default: `tall`

### AdaptiveDialogActions

[MUI DialogActions API](https://mui.com/material-ui/api/dialog-actions/) with the following changes:

#### buttonDefaultProps

Props passed to child `AdaptiveButton` components

- Type: `AdaptiveButtonProps`
- Default: `undefined`

## Browser Compatibility

- Actions use the Adaptive Button Stack [browser compatibility](adaptiveButtonStack.html#browser-compatibility)

## Links

<Links
  codeUrl="components/dialog/adaptiveDialog.tsx"
  docsUrl="components/adaptiveDialog.mdx"
  mui={{ title: "Dialog", url: "react-dialog" }}
/>
